---
author: "Nombre Completo Autor"
date: "27/10/2017"
documentclass: book
forprint: true  # true: imprime a dos caras, false: libro digital
fontsize: 12pt # 10pt,11pt
geometry: margin = 2.5cm 
bibliography: ["bib/library.bib", "bib/paquetes.bib"]
# metodobib -> true: natbib (descomentar: citation_package: natbib) 
#           -> false: pandoc (comentar: citation_package: natbib)
metodobib: true
#natbib: plainnat, abbrvnat, unsrtnat
biblio-style: "plainnat"
#Método 2 (pandoc): descomente una línea de las 2 siguientes en caso de usarlo
csl: methods-in-ecology-and-evolution.csl      # no numera mejor en las citas
#csl: acm-sig-proceedings-long-author-list.csl  # numera peor en las citas
link-citations: yes
output: 
  pdf_document:
    keep_tex: no
    number_sections: yes
    citation_package: natbib  # comentado usa: pandoc-citeproc
    #toc: yes
    fig_caption: yes
    template: latex/templateMemoriaTFE.tex
    includes:
      #before_body: portadas/latex_paginatitulo_modTFE.tex
      #in_header: latex/latex_preambulo.tex
      #after_body: latex/latex_antes_enddoc.tex
---



```{r include=FALSE}
knitr::opts_chunk$set(fig.path = 'figurasR/',
                      echo = FALSE, warning = FALSE, message = FALSE,
                      fig.pos="H",fig.align="center",out.width="95%",
                      cache=FALSE)

```


<!-- \setcounter{chapter}{2} -->
<!-- \setcounter{chapter}{2} escribir 2 para capítulo 3  -->
<!-- \pagenumbering{arabic} -->


\ifdefined\ifprincipal
\else
\setlength{\parindent}{1em}
\pagestyle{fancy}
\setcounter{tocdepth}{4}
\tableofcontents
<!-- \nocite{*} -->
\fi

\ifdefined\ifdoblecara
\fancyhead{}{}
\fancyhead[LE,RO]{\scriptsize\rightmark}
\fancyfoot[LO,RE]{\scriptsize\slshape \leftmark}
\fancyfoot[C]{}
\fancyfoot[LE,RO]{\footnotesize\thepage}
\else
\fancyhead{}{}
\fancyhead[RO]{\scriptsize\rightmark}
\fancyfoot[LO]{\scriptsize\slshape \leftmark}
\fancyfoot[C]{}
\fancyfoot[RO]{\footnotesize\thepage}
\fi
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

# Apéndice: Documentación

Se ha seguido como base para generar el trabajo la guía de Pedro L. Luque-Calvo: *Escribir un Trabajo Fin de Estudios con R Markdown*,  link:(<http://destio.us.es/calvo>) .

## Acceso al código fuente

Los archivos necesarios para generar el trabajo ha sido publicado para su acceso libre en el repositorio GitHub en la siguiente dirección:

> <https://github.com/Angox/TFG>

## Organización de los documentos

``` {.R}
+-- abstract.Rmd
+-- apendice01.pdf
+-- apendice01.Rmd
+-- apendice02.Rmd
+-- a_NEWS.Rmd
+-- a_README.Rmd
+-- a_TODO.Rmd
+-- bib
|   +-- library.bib
|   +-- Mibiblioteca.bib
|   \-- paquetes.bib
+-- Cap3Interact.html
+-- Cap3Interact.Rmd
+-- capitulo01.pdf
+-- capitulo01.Rmd
+-- capitulo02.pdf
+-- capitulo02.Rmd
+-- capitulo03.pdf
+-- capitulo03.Rmd
+-- capitulo04.pdf
+-- capitulo04.Rmd
+-- capitulo05.log
+-- capitulo05.pdf
+-- capitulo05.Rmd
+-- Capitulo06.pdf
+-- Capitulo06.Rmd
+-- Datos
|   +-- Congreso
|   |   +-- PROV_02_197706_1.xlsx
|   |   +-- PROV_02_197903_1.xlsx
|   |   +-- PROV_02_198210_1.xlsx
|   |   +-- PROV_02_198606_1.xlsx
|   |   +-- PROV_02_198910_1.xlsx
|   |   +-- PROV_02_199306_1.xlsx
|   |   +-- PROV_02_199603_1.xlsx
|   |   +-- PROV_02_200003_1.xlsx
|   |   +-- PROV_02_200403_1.xlsx
|   |   +-- PROV_02_200803_1.xlsx
|   |   +-- PROV_02_201111_1.xlsx
|   |   +-- PROV_02_201512_1.xlsx
|   |   +-- PROV_02_201606_1.xlsx
|   |   +-- PROV_02_201904_1.xlsx
|   |   \-- PROV_02_201911_1.xlsx
|   \-- Senado
|       +-- PROV_03_197706_1.xlsx
|       +-- PROV_03_197903_1.xlsx
|       +-- PROV_03_198210_1.xlsx
|       +-- PROV_03_201606_1.xlsx
|       +-- PROV_03_201904_1.xlsx
|       \-- PROV_03_201911_1.xlsx
+-- figurasR
+-- graficos
+-- portadas
+-- prologo.Rmd
+-- README.md
+-- references.bib
+-- resumen.Rmd
+-- rsconnect
|   \-- documents
|       \-- Cap3Interact.Rmd
+-- tfe_principal.knit.md
+-- tfe_principal.log
+-- tfe_principal.pdf
+-- tfe_principal.Rmd
+-- tfe_principal.tex
+-- tfe_principal.utf8.md
\-- TFG_Git.Rproj
```


- El archivo que genera todo el trabajo es *tfe_principal.Rmd*, que ejecuta los siguientes archivos:
  - Apartado resumen: *resumen.Rmd*
  - Apartado abstract: *abstract.Rmd*
  - Capítulo 1: *capitulo01.Rmd*
  - Capítulo 2: *capitulo02.Rmd*
  - Capítulo 3: *capitulo03.Rmd*
    -   Capítulo 3 Interactivo: *cap3Interact.Rmd*
  - Capítulo 4: *capitulo04.Rmd*
  - Capítulo 5: *capitulo05.Rmd*
  - Capítulo 6: *capitulo06.Rmd*
  - Apéndice 1: *apendice01.Rmd*
  - Apéndice 2: *apendice02.Rmd*
  
  
- Bibliografía: Se utilizan los archivos que se encuentran en la carpeta *+-- bib*

- Los datos de los resultados de las elecciones al congreso se encuentran en:  
  +-- Datos    
  |   +-- Congreso  
 Los datos han sido obtenidos del ministerio de interior de España en el siguiente link: <http://www.infoelectoral.mir.es/infoelectoral/>


### Librerías utilizadas


\renewcommand{\arraystretch}{0.6}
```{r Reproducibility-SessionInfo-R-packages, echo=FALSE, message=FALSE, warning=FALSE, fig.align="center", out.width='100%', results='asis'}

library("knitr")
library(devtools)
library(dplyr)
library(tibble)
library(kableExtra)
library(fs)
library(plotly)

df_session_packages <- devtools::session_info()$packages %>% 
  as.data.frame(.) %>% 
  filter(attached == TRUE) %>% 
  dplyr::select(loadedversion, date) %>% 
  rownames_to_column

colnames(df_session_packages) <- c("Package", "Loaded version", "Date")

kable(
  df_session_packages, 
  booktabs = T, 
  align = "l",
  caption = "Librerías utilizadas", # complete caption for main document
  caption.short = " " # "(ref:Reproducibility-SessionInfo-R-packages-caption)" # short caption for LoT
) %>% 
  kable_styling(full_width = F,
                latex_options = c(
                  "hold_position" # stop table floating
                ) 
  ) 
```
\renewcommand{\arraystretch}{1} <!-- reset row height/line spacing -->


